bundle:
  name: live-demo-app-v2

resources:

  apps:
    hello-world-app:
      name: live-demo-app-v2-${bundle.target}
      description: "A Hello World Next.js App"
      source_code_path: .

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://dbc-7e2aec59-f3d1.cloud.databricks.com
    resources:
      apps:
        hello-world-app:
          resources:
            - name: SQL_WAREHOUSE
              sql_warehouse:
                id: 928e6c7b5468778f
                permission: CAN_USE

  prod:
    mode: production
    workspace:
      host: https://dbc-7e2aec59-f3d1.cloud.databricks.com
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    resources:
      apps:
        hello-world-app:
          permissions:
            - user_name: ${workspace.current_user.userName}
              level: CAN_MANAGE
          resources:
            - name: SQL_WAREHOUSE
              sql_warehouse:
                id: 928e6c7b5468778f
                permission: CAN_USE